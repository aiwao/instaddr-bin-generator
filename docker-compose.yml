services:
  bin-gen-server:
    build:
      context: .
      dockerfile: ./server/Dockerfile
    image: bin-gen
    environment:
      CREATE_ACCOUNT_DELAY: ${CREATE_ACCOUNT_DELAY}
      CREATE_ADDRESS_DELAY: ${CREATE_ADDRESS_DELAY}
      ON_ERROR_DELAY: ${ON_ERROR_DELAY}
      AMOUNT_ADDRESS: ${AMOUNT_ADDRESS}
      MUST_LEGIT_TO_AMOUNT: ${MUST_LEGIT_TO_AMOUNT}
      PROXY: ${PROXY}
    ports:
     - "8080:8080"
    volumes:
      - ./addrbin.db:/app/server/addrbin.db
  bin-gen-client:
    build:
      context: .
      dockerfile: ./client/Dockerfile
    image: bin-gen
    environment:
      LOCAL: ${LOCAL}
      SERVER_URL: ${SERVER_URL}
      AMOUNT_ACCOUNT: ${AMOUNT_ACCOUNT}
      MIN_AMOUNT_ADDRESS: ${MIN_AMOUNT_ADDRESS}
    volumes:
      - ./addrbin.db:/app/client/addrbin.db